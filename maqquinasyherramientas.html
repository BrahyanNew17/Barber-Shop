<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Maquinas y Herramientas Electricas</title>

<link rel="stylesheet" href="estilos.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

<style>

.product-card{
background:rgba(0,0,0,.6);
border:2px solid #d4af37;
border-radius:15px;
padding:20px;
color:white;
text-align:center;
}


.precio{
background:#d4af37;
color:#000;
border:none;
padding:10px 25px;
border-radius:30px;
font-weight:bold;
cursor:pointer;
}


#carrito{
position:fixed;
bottom:20px;
right:20px;
background:#111;
color:white;
width:280px;
padding:15px;
border-radius:15px;
box-shadow:0 0 10px black;
z-index:999;
}

.item{
background:#222;
margin:8px 0;
padding:8px;
border-radius:6px;
display:flex;
justify-content:space-between;
align-items:center;
animation:entrada .3s;
}

@keyframes entrada{
from{opacity:0;transform:translateY(-10px)}
to{opacity:1}
}

.eliminar{
background:#d4af37;
border:none;
padding:4px 8px;
border-radius:5px;
cursor:pointer;
}

.salida{
animation:salida .4s forwards;
}

@keyframes salida{
to{opacity:0;transform:translateX(40px)}
}

.total{
margin-top:10px;
text-align:right;
font-weight:bold;
color:#d4af37;
}
</style>
</head>

<body>

<h2 class="text-center mt-4 text-warning">Maquinas y Herramientas Electricas</h2>

<div class="container productos-grid mt-4">

    <div class="product-card mb-4">
        <h5>Cordora Magic Clip</h5>
        <p>mÃ¡quina profesional para cortes precisos y desvanecidos.</p>
        <button class="precio" onclick="agregar('Cordora Magic Clip',25900)">
            $25.900
        </button>
    </div>

    <div class="product-card mb-4">
        <h5>Patillera T-Outliner</h5>
        <p>patillera ideal para delineados y detalles finos.</p>
        <button class="precio" onclick="agregar('Patillera T-Outliner',27900)">
            $27.900
        </button>
    </div>

    <div class="product-card mb-4">
        <h5>Gel</h5>
        <p>gel bÃ¡sico para fijar y dar forma al cabello..</p>
        <button class="precio" onclick="agregar('Gel',10.500)">
            $10.500
        </button>
    </div>

    <div id="carrito">
<h5>ðŸ›’ Carrito</h5>
<div id="lista"></div>
<div id="total" class="total">Total: $0</div>
</div>

<script>
let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

function guardar(){
    localStorage.setItem("carrito", JSON.stringify(carrito));
    mostrar();
}

function agregar(nombre, precio){
    if(confirm("Â¿Deseas aÃ±adir este producto al carrito?")){
        let producto = carrito.find(p => p.nombre === nombre);

        if(producto){
            producto.cantidad++;
        }else{
            carrito.push({ nombre, precio, cantidad: 1 });
        }
        guardar();
    }
}

function eliminar(i, elemento){
    elemento.classList.add("salida");
    setTimeout(()=>{
        carrito.splice(i,1);
        guardar();
    },400);
}

function mostrar(){
    const lista = document.getElementById("lista");
    const totalDiv = document.getElementById("total");
    lista.innerHTML = "";

    let total = 0;

    carrito.forEach((p,i)=>{
        let subtotal = p.precio * p.cantidad;
        total += subtotal;

        lista.innerHTML += `
        <div class="item">
            <span>${p.nombre} x${p.cantidad}<br>$${subtotal.toLocaleString()}</span>
            <button class="eliminar" onclick="eliminar(${i}, this.parentElement)">X</button>
        </div>`;
    });

    totalDiv.textContent = "Total: $" + total.toLocaleString();
}

document.addEventListener("DOMContentLoaded", mostrar);
</script>

</body>
</html>
